<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Settings</title>
  <link rel="stylesheet" href="../../resources/css/slotStyle.css">
  <script src = "../../resources/js/utils/addNavigation.js">//adds addNavidation(div, pathToRoot = "", centered = true, style = "default", navigationElements = "default") to add the navigation to the div bar</script>

  <script src="../../resources/js/apiEndpoints/config.js">//imports API configs</script>
  <script src="../../resources/js/utils/cookieUtils.js">//adds getCookie and setCookie</script>
  <script src="../../resources/js/apiEndpoints/loginApiEndpoints/autoLogin.js">//adds auto login</script>
  <script src="../../resources/js/apiEndpoints/loginApiEndpoints/changeUsername.js">//adds change password</script>
  <script src="../../resources/js/apiEndpoints/loginApiEndpoints/changePassword.js">//adds change username</script>
  <script src="../../resources/js/apiEndpoints/loginApiEndpoints/login.js">//adds login</script>
</head>

<body>
  <br><br><br>
  <div id="wrapper">
    <div id="navigationwrap">
      <div id="navigation">

      </div>
      <script>
          //script to add navigation elements
          let div = document.getElementById("navigation")
          addNavigation(div, "../../", true, "default", "slots")
      </script>
    </div>

    <div id="contentwrap">
      <div id="content">;
        <center>
          <button class="rounded-btn" id="changeUsername" onclick="changeUsernameWrapper()">Change Username</button><span>
          </span><label> Username: </label><input type="text" id="changeUsernameInput"></input>
        </center>
      </div>

      <div id="content">
        <center>
          <button class="rounded-btn" id="changeUsername" onclick="changePasswordWrapper()">Change Password</button><span>
          </span><label> Password: </label><input type="password" id="changePasswordInput"></input>
        </center>
      </div>

      <div id="content">
        <center>
          <button class="rounded-btn" id="changeUsername" onclick="loginWrapper()">Login</button><br><br>

          </span> <label> Username: </label><input type="text" id="loginUsernameInput"></input> <span> </span><label>
            Password: </label><input type="password" id="loginPasswordInput"></input>
        </center>
      </div>

    </div>

    <div id="footerwrap">
      <div id="footer">

        <center>
          <p id="messages">Please don't lose your password I don't really have a good way to get your account back if
            you do.</p>
        </center>
      </div>
    </div>

    <div id="footerwrap">
      <div id="footer">
        <center>
          <p id="userInfo"><strong>Logged in as: </strong><span id="user"></span> <strong>Balance: </strong><span
              id="bal"></span></p>
        </center>
      </div>
    </div>

    <div id="footerwrap">
      <div id="footer">

        <script>

          window.addEventListener("load", autoLogin);

          const usernameInput = document.getElementById("changeUsernameInput")

          const passwordInput = document.getElementById("changePasswordInput")

          const loginUsernameInput = document.getElementById("loginUsernameInput")
          const loginPasswordInput = document.getElementById("loginPasswordInput")

          function changeUsernameWrapper(){
            changeUsername(usernameInput, getCookie('name'), getCookie('hashedpassword'))
          }

          function changePasswordWrapper(){
            changePassword(passwordInput, getCookie('name'), getCookie('hashedpassword'))
          }

          function loginWrapper(){
            login(loginUsernameInput, loginPasswordInput)
          }
        </script>

        Layout: <a href="http://itinerae.neocities.org" target="_blank">Itinerae</a> Pixels: <a
          href="https://foollovers.com/" target="_blank">Fool Lovers</a> Lace border: <a
          href="https://pastebin.com/1s0bztqb" target="_blank">Loveberry</a> Sylveon sprite: <a
          href="https://www.deviantart.com/retronc/art/Sylveon-Animated-Sprite-977536346">RetroNC</a>
      </div>
    </div>
  </div>
</body>

</html>