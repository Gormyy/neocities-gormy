<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Leaderboard</title>
  <link rel="stylesheet" href="../../resources/css/slotStyle.css">
</head>

<body>
  <br><br><br>
  <div id="wrapper">
    <div id="navigationwrap">
      <div id="navigation">
        <center>
          <a href="../../index.html">Home</a>
          <a href="slotMachine.html">Slots</a>
          <a href="payoutTable.html">Payout</a>
          <a href="leaderboard.html">leaderboard</a>
          <a href="accountSettings.html">Account</a>
        </center>

      </div>
    </div>

    <div id="contentwrap">
      <div id="content">
        <center>
            <table id="leaderboard">
                <caption>Top Balance Leaderboard</caption>
                <thead>
                  <tr>
                    <th>#</th>
                    <th>Name</th>
                    <th>Balance</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
        </center>
      </div>
    </div>

    <script>
        async function loadLeaderboard() {
          try {
            //lmao i linked to localhost here idk how that happened
            //const response = await fetch('http://localhost:3000/getLeaderboard');
            const response = await fetch('https://gormysecret.onrender.com/getLeaderboard');
            
            const data = await response.json();
            const tbody = document.querySelector('#leaderboard tbody');
    
            data.users.forEach((user, index) => {
              const row = document.createElement('tr');
              row.innerHTML = `
                <td>${index + 1}</td>
                <td>${user.name}</td>
                <td>${user.balance.toFixed(2)}</td>
              `;
              tbody.appendChild(row);
            });
          } catch (err) {
            console.error('Failed to load leaderboard:', err);
          }
        }
    
        loadLeaderboard();
      </script>



    <div id="footerwrap">
    

      <div id="footer">


        Layout: <a href="http://itinerae.neocities.org" target="_blank">Itinerae</a> Pixels: <a
          href="https://foollovers.com/" target="_blank">Fool Lovers</a> Lace border: <a
          href="https://pastebin.com/1s0bztqb" target="_blank">Loveberry</a> Sylveon sprite: <a
          href="https://www.deviantart.com/retronc/art/Sylveon-Animated-Sprite-977536346">RetroNC</a>
      </div>
    </div>


    <script>
      
    </script>
</body>

</html>