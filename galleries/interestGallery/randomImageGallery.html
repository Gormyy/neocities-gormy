<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Gallery</title>
  <link rel="stylesheet" href="../../resources/css/galleryStyle.css">

  <script src="../../resources/js/utils/galleryUtils.js">//Adds galley functions</script>
</head>
<body>
  <h1>Image Gallery</h1>

  <center><p id="galleryCaption">This is just a base page for gallery pages for image galleries i'll put up in the future</p></center>

  <div class="controls">
    <button class="rounded-btn" onclick="goBack()">Go back</button>
    <button class="rounded-btn" onclick="sortGallery('date-desc')">Date ↓</button>
    <button class="rounded-btn" onclick="sortGallery('date-asc')">Date ↑</button>
    <button class="rounded-btn" onclick="sortGallery('score-desc')">Score ↓</button>
    <button class="rounded-btn" onclick="sortGallery('score-asc')">Score ↑</button>
    <button class="rounded-btn" onclick="sortGallery('random')">Random</button>
  </div>

  <script>
    // go back button
    function goBack(){
        const redirectLocation = "../../interests.html"

        window.location.href = redirectLocation
    }
  </script>

  <div id="gallery"></div>

  <script>
    

    const imageData = [
      {
        "src": "https://i.postimg.cc/Y0CM4cJK/IMG-6904.jpg",
        "title": "Nuka Cola Quantum",
        "caption": "I've never played fallout but I'm a fan of Jones Soda and I saw this at a store and this was a very sour soda. I thought it was too sour. It kind of tasted like the blue lemonade flavor they have but way more sour. I couldn't finish it sadly. too sour.",
        "date": "2025-05-15",
        "score": 5,
        "link" : null,
        "location" : "Indianapolis, Indiana, United States", //i'll add text for this later
      },
      {
        "src": "https://i.postimg.cc/xCR9Tjp3/IMG-6861.jpg",
        "title": "Hi Trick!",
        "caption": "Hi trick!!!",
        "date": "2025-05-13",
        "score": 7,
        "link" : null,
        "location" : "Washington D.C, Washington D.C, United States", 
      },
      {
        "src": "https://i.postimg.cc/tgFXwNhf/IMG-6804.jpg",
        "title": "Glaceon",
        "caption": "This was at one of those claw machine places and I was really confused by it but I saw a glaceon so I was happy.",
        "date": "2025-05-12",
        "score": 6,
        "link" : null,
        "location" : "Toronto, Ontario, Canada", 
      },
      {
        "src": "https://i.postimg.cc/VkrsB85z/IMG-6795.jpg",
        "title": "Hej!",
        "caption": "Hej! At Ikea in Toronto!",
        "date": "2025-05-12",
        "score": 5,
        "link" : null,
        "location" : "Toronto, Ontario, Canada", 
      },
      {
        "src": "https://i.postimg.cc/kg0JTptK/IMG-6791.jpg",
        "title": "Canada!",
        "caption": "I think they gave me more than 10 tim bits",
        "date": "2025-05-12",
        "score": 7,
        "link" : null,
        "location" : "Toronto, Ontario, Canada", 
      },
      {
        "src": "https://i.postimg.cc/Jnm1LHxh/IMG-6775.jpg",
        "title": "Hi Kitty!",
        "caption": "We did take a selfie!",
        "date": "2025-05-12",
        "score": 7,
        "link" : null,
        "location" : "Toronto, Ontario, Canada", 
      },
      {
        "src": "https://i.postimg.cc/fTgT9LzH/IMG-6765.jpg",
        "title": "Minecraft building!",
        "caption": "This building is really weird and it was funny to go into it!",
        "date": "2025-05-11",
        "score": 8,
        "link" : null,
        "location" : "Toronto, Ontario, Canada", 
      },
      {
        "src": "https://i.postimg.cc/X7vYqFbG/IMG-6741.jpg",
        "title": "Fountain",
        "caption": "Hecking dog!",
        "date": "2025-05-11",
        "score": 7,
        "link" : null,
        "location" : "Toronto, Ontario, Canada", 
      },
      {
        "src": "https://i.postimg.cc/zGBrbF9b/IMG-6981.jpg",
        "title": "Hi Trick again!",
        "caption": "Her 2nd plane ride",
        "date": "2025-05-22",
        "score": 7,
        "link" : null,
        "location" : "Denver, Colorado, United States", 
      },
      {
        "src": "https://i.postimg.cc/yYnK8brC/IMG-7001.jpg",
        "title": "Thanks Eevee!",
        "caption": `Click the image for some good advice!`,
        "date": "2025-05-22",
        "score": 7,
        "link" : "https://bsky.app/profile/lynasdf.bsky.social",
        "location" : "Salt Lake City, Utah, United States", 
      },
      {
        "src": "https://i.postimg.cc/kX799msy/IMG-7018.jpg",
        "title": "Thea going on a trip!",
        "caption": "She loves her suitcase!",
        "date": "2025-05-24",
        "score": 9,
        "link" : null,
        "location" : "Salt Lake City, Utah, United States", 
      },
      {
        "src": "../../resources/images/randomImages/banksy.jpg",
        "title": "Banksy",
        "caption": "A picture of a random banksy painting I stumbled across in Park City",
        "date": "2025-05-24",
        "score": 9,
        "link" : null,
        "location" : "Park City, Utah, United States", 
      },
      {
        "src": "../../resources/images/randomImages/brokenFireAlarm.jpg",
        "title": "Broken Fire Alarm",
        "caption": "Broken fire alarm in a parking lot after a movie",
        "date": "2025-05-25",
        "score": 8,
        "link" : null,
        "location" : "Salt Lake City, Utah, United States", 
      },
      {
        "src": "../../resources/images/randomImages/camera.jpg",
        "title": "Camera",
        "caption": `Random camera in a parking garage. I fount it intriguing to think about how a random security camera 
          is always watching and recording in a parking garage regardless of if there is anyone or anything to watch. 
          Being a parking garage in the middle of a big city, I'm sure that security camera has probably seen a lot. 
          It would be fascinating to be able to watch it for a while and see what happens in that parking garage. 
          I'm sure my group of people would have been interesting to watch and there were another group of people in 
          the parking garage smoking weed, so I'm sure a lot happens there, especially at night when it is empty.`,
        "date": "2025-05-25",
        "score": 8,
        "link" : null,
        "location" : "Salt Lake City, Utah, United States", 
      },
      {
        "src": "../../resources/images/randomImages/randomGrafitti.jpg",
        "title": "Grafitti",
        "caption": "Random drawing on a sign in a parking lot.",
        "date": "2025-05-25",
        "score": 7,
        "link" : null,
        "location" : "Salt Lake City, Utah, United States", 
      },
      {
        "src": "../../resources/images/randomImages/theaa.jpg",
        "title": "Thea!",
        "caption": "She's the fastest girl around!",
        "date": "2025-05-24",
        "score": 7,
        "link" : null,
        "location" : "Salt Lake City, Utah, United States", 
      },
    ];

    

    // Initial render
    document.addEventListener("DOMContentLoaded", () => {
      sortGallery('date-desc');
    });
  </script>

  <script>
    document.querySelectorAll('a').forEach(link => {
        link.setAttribute('target', '_blank');
        link.setAttribute('rel', 'noopener noreferrer');
    });

  </script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      document.querySelectorAll('.description-container').forEach(container => {
        const desc = container.querySelector('.description');
        const btn = container.querySelector('.toggle-btn');

        // Function to check if the text is overflowing
        const isOverflowing = () => desc.scrollHeight > desc.clientHeight;

        // Only show button if it's actually overflowing
        if (!isOverflowing()) {
          btn.style.display = 'none';
        }

        btn.addEventListener('click', () => {
          desc.classList.toggle('expanded');
          btn.textContent = desc.classList.contains('expanded') ? 'Read less' : 'Read more';
        });
      });
    });
  </script>


</body>
</html>
